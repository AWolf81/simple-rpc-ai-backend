<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(3)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(3) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(1) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(1) > ul > li:nth-child(3) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Quickstart | Simple RPC AI Backend Docs</title> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Quickstart" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Developer documentation for the Simple RPC AI Backend server." /> <meta property="og:description" content="Developer documentation for the Simple RPC AI Backend server." /> <meta property="og:site_name" content="Simple RPC AI Backend Docs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Quickstart" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Developer documentation for the Simple RPC AI Backend server.","headline":"Quickstart","url":"/getting-started/quickstart.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Simple RPC AI Backend Docs </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Documentation category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/" class="nav-list-link">Documentation</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Getting Started category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/getting-started/" class="nav-list-link">Getting Started</a><ul class="nav-list"><li class="nav-list-item"><a href="/getting-started/overview.html" class="nav-list-link">Project Overview</a></li><li class="nav-list-item"><a href="/getting-started/installation.html" class="nav-list-link">Installation</a></li><li class="nav-list-item"><a href="/getting-started/quickstart.html" class="nav-list-link">Quickstart</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Common Configurations category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/common-configurations/" class="nav-list-link">Common Configurations</a><ul class="nav-list"><li class="nav-list-item"><a href="/common-configurations/environment.html" class="nav-list-link">Environment Configuration</a></li><li class="nav-list-item"><a href="/common-configurations/authentication.html" class="nav-list-link">Authentication</a></li><li class="nav-list-item"><a href="/common-configurations/workspaces.html" class="nav-list-link">Workspaces</a></li><li class="nav-list-item"><a href="/common-configurations/cors.html" class="nav-list-link">CORS</a></li><li class="nav-list-item"><a href="/common-configurations/extension-oauth.html" class="nav-list-link">Extension OAuth</a></li><li class="nav-list-item"><a href="/common-configurations/mcp-oauth-authentication.html" class="nav-list-link">MCP OAuth Authentication</a></li><li class="nav-list-item"><a href="/common-configurations/server-workspaces-vs-mcp-roots.html" class="nav-list-link">Server Workspaces vs MCP Roots</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Server API category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/server-api/" class="nav-list-link">Server API</a><ul class="nav-list"><li class="nav-list-item"><a href="/server-api/overview.html" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="/server-api/resources.html" class="nav-list-link">Resources</a></li><li class="nav-list-item"><a href="/server-api/tools.html" class="nav-list-link">Tools</a></li><li class="nav-list-item"><a href="/server-api/registry.html" class="nav-list-link">Registry</a></li><li class="nav-list-item"><a href="/server-api/methods.html" class="nav-list-link">Methods</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Common Issues category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/common-issues/" class="nav-list-link">Common Issues</a><ul class="nav-list"><li class="nav-list-item"><a href="/common-issues/troubleshooting.html" class="nav-list-link">Troubleshooting</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tips & Tricks category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/tips-and-tricks/" class="nav-list-link">Tips & Tricks</a><ul class="nav-list"><li class="nav-list-item"><a href="/tips-and-tricks/testing-trpc.html" class="nav-list-link">Testing tRPC Procedures</a></li><li class="nav-list-item"><a href="/tips-and-tricks/typescript-usage.html" class="nav-list-link">TypeScript Usage</a></li></ul></li></ul></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/AWolf81/simple-rpc-ai-backend" class="nav-list-link external" target="_blank" rel="noopener noreferrer" > GitHub Repository <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> </nav> <nav class="page-nav"> <a class="page-nav__prev" href="/getting-started/installation.html"> <span aria-hidden="true">←</span> <span class="page-nav__text">Installation</span> </a> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Simple RPC AI Backend Docs" aria-label="Search Simple RPC AI Backend Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/AWolf81/simple-rpc-ai-backend" class="site-button" > Repository </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/">Documentation</a></li> <li class="breadcrumb-nav-list-item"><a href="/getting-started/">Getting Started</a></li> <li class="breadcrumb-nav-list-item"><span>Quickstart</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="quickstart"> <a href="#quickstart" class="anchor-heading" aria-labelledby="quickstart"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Quickstart </h1> <p>Launch the backend inside your own project and explore the MCP tools in minutes. This guide is <strong>for package consumers</strong> who install <code class="language-plaintext highlighter-rouge">simple-rpc-ai-backend</code> from npm.<br /> If you are contributing to the repository itself, see the <a href="/getting-started/installation.html">installation guide</a>.</p> <h2 id="1-install-the-package"> <a href="#1-install-the-package" class="anchor-heading" aria-labelledby="1-install-the-package"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Install the Package </h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pnpm add simple-rpc-ai-backend
</code></pre></div></div> <blockquote> <p>🛠️ Need a project scaffold? Create a TypeScript workspace (for example with <code class="language-plaintext highlighter-rouge">pnpm create vite my-app --template vanilla-ts</code>) and run the command above inside that folder.</p> </blockquote> <h2 id="2-add-dev-tooling-scripts"> <a href="#2-add-dev-tooling-scripts" class="anchor-heading" aria-labelledby="2-add-dev-tooling-scripts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Add Dev Tooling Scripts </h2> <p>Update your consumer <code class="language-plaintext highlighter-rouge">package.json</code> with helper commands that ship with the backend:</p> <div class="language-jsonc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// package.json</span><span class="w">
</span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"trpc:build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simple-rpc-gen-methods"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dev:panel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simple-rpc-dev-panel --server-port 8000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dev:server"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tsx watch src/index.ts"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"concurrently </span><span class="se">\"</span><span class="s2">pnpm dev:server</span><span class="se">\"</span><span class="s2"> </span><span class="se">\"</span><span class="s2">pnpm dev:panel</span><span class="se">\"</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tsc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <blockquote> <p>Install the helper dev dependency once: <code class="language-plaintext highlighter-rouge">pnpm add -D concurrently</code>.</p> </blockquote> <p>Run <code class="language-plaintext highlighter-rouge">pnpm trpc:build</code> whenever you add or rename tRPC routers—this regenerates <code class="language-plaintext highlighter-rouge">trpc-methods.json</code>, which powers the dev panel and JSON-RPC schema. The panel automatically launches MCP Jam when <code class="language-plaintext highlighter-rouge">@mcpjam/inspector</code> is present. If you prefer to omit MCP Jam, install with <code class="language-plaintext highlighter-rouge">pnpm install --no-optional</code> or prune after installation via <code class="language-plaintext highlighter-rouge">pnpm prune --prod --no-optional</code>. Tailor the <code class="language-plaintext highlighter-rouge">dev</code>/<code class="language-plaintext highlighter-rouge">build</code> scripts (or the optional <code class="language-plaintext highlighter-rouge">dev</code> composite script) as needed (e.g. different entry points, bundlers, or framework builds); the optional <code class="language-plaintext highlighter-rouge">dev</code> script uses <a href="https://www.npmjs.com/package/concurrently"><code class="language-plaintext highlighter-rouge">concurrently</code></a> to start the API server and dev panel together.</p> <h2 id="3-configure-environment-variables"> <a href="#3-configure-environment-variables" class="anchor-heading" aria-labelledby="3-configure-environment-variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Configure Environment Variables </h2> <p>Create a <code class="language-plaintext highlighter-rouge">.env</code> file with provider keys and the server port:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">SERVER_PORT</span><span class="o">=</span>8000
<span class="nv">ANTHROPIC_API_KEY</span><span class="o">=</span>sk-ant-...
<span class="nv">OPENAI_API_KEY</span><span class="o">=</span>sk-openai-...
</code></pre></div></div> <p>Other useful variables:</p> <ul> <li><code class="language-plaintext highlighter-rouge">AI_SERVICE_PROVIDERS</code> – enables provider-backed API keys handled by the server.</li> <li><code class="language-plaintext highlighter-rouge">AI_BYOK_PROVIDERS</code> – providers that expect user-supplied keys at runtime.</li> </ul> <h2 id="4-bootstrap-the-server"> <a href="#4-bootstrap-the-server" class="anchor-heading" aria-labelledby="4-bootstrap-the-server"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Bootstrap the Server </h2> <p>Create a file such as <code class="language-plaintext highlighter-rouge">src/server.ts</code>:</p> <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createRpcAiServer</span><span class="p">,</span> <span class="nx">router</span><span class="p">,</span> <span class="nx">publicProcedure</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">simple-rpc-ai-backend</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">zod</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">mathRouter</span> <span class="o">=</span> <span class="nf">router</span><span class="p">({</span>
  <span class="na">add</span><span class="p">:</span> <span class="nx">publicProcedure</span>
    <span class="p">.</span><span class="nf">input</span><span class="p">(</span><span class="nx">z</span><span class="p">.</span><span class="nf">object</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="nf">number</span><span class="p">(),</span> <span class="na">b</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="nf">number</span><span class="p">()</span> <span class="p">}))</span>
    <span class="p">.</span><span class="nf">mutation</span><span class="p">(({</span> <span class="nx">input</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">result</span><span class="p">:</span> <span class="nx">input</span><span class="p">.</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">input</span><span class="p">.</span><span class="nx">b</span> <span class="p">})),</span>
  <span class="na">multiply</span><span class="p">:</span> <span class="nx">publicProcedure</span>
    <span class="p">.</span><span class="nf">input</span><span class="p">(</span><span class="nx">z</span><span class="p">.</span><span class="nf">object</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="nf">number</span><span class="p">(),</span> <span class="na">b</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="nf">number</span><span class="p">()</span> <span class="p">}))</span>
    <span class="p">.</span><span class="nf">mutation</span><span class="p">(({</span> <span class="nx">input</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">result</span><span class="p">:</span> <span class="nx">input</span><span class="p">.</span><span class="nx">a</span> <span class="o">*</span> <span class="nx">input</span><span class="p">.</span><span class="nx">b</span> <span class="p">}))</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">utilsRouter</span> <span class="o">=</span> <span class="nf">router</span><span class="p">({</span>
  <span class="na">ping</span><span class="p">:</span> <span class="nx">publicProcedure</span><span class="p">.</span><span class="nf">query</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">pong</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})),</span>
  <span class="na">echo</span><span class="p">:</span> <span class="nx">publicProcedure</span>
    <span class="p">.</span><span class="nf">input</span><span class="p">(</span><span class="nx">z</span><span class="p">.</span><span class="nf">object</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="nf">string</span><span class="p">()</span> <span class="p">}))</span>
    <span class="p">.</span><span class="nf">mutation</span><span class="p">(({</span> <span class="nx">input</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="nx">input</span><span class="p">.</span><span class="nx">message</span> <span class="p">}))</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">customRouter</span> <span class="o">=</span> <span class="nf">router</span><span class="p">({</span>
  <span class="c1">// Add domain-specific procedures here</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="nf">createRpcAiServer</span><span class="p">({</span>
  <span class="na">port</span><span class="p">:</span> <span class="nc">Number</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">SERVER_PORT</span> <span class="o">??</span> <span class="mi">8000</span><span class="p">),</span>
  <span class="na">ai</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">providers</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">anthropic</span><span class="p">:</span> <span class="p">{</span> <span class="na">apiKey</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">ANTHROPIC_API_KEY</span> <span class="p">},</span>
      <span class="na">openai</span><span class="p">:</span> <span class="p">{</span> <span class="na">apiKey</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">OPENAI_API_KEY</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">mcp</span><span class="p">:</span> <span class="p">{</span> <span class="na">enabled</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
  <span class="na">customRouters</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">math</span><span class="p">:</span> <span class="nx">mathRouter</span><span class="p">,</span>
    <span class="na">utils</span><span class="p">:</span> <span class="nx">utilsRouter</span><span class="p">,</span>
    <span class="na">custom</span><span class="p">:</span> <span class="nx">customRouter</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="k">await</span> <span class="nx">server</span><span class="p">.</span><span class="nf">start</span><span class="p">();</span>
</code></pre></div></div> <blockquote> <p>Re-run <code class="language-plaintext highlighter-rouge">pnpm trpc:build</code> after editing these routers so the dev panel and JSON-RPC schema stay in sync.</p> </blockquote> <p>Run it with your preferred runtime (tsx, ts-node, or compiled JavaScript). For example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pnpm tsx src/server.ts
</code></pre></div></div> <p>You should see log output confirming workspace registration, provider availability, and tRPC endpoints. In day-to-day development you’ll usually run <code class="language-plaintext highlighter-rouge">pnpm dev</code> (which boots both the API server and the dev panel via <code class="language-plaintext highlighter-rouge">concurrently</code>). If you prefer separate terminals, run <code class="language-plaintext highlighter-rouge">pnpm dev:server</code> and <code class="language-plaintext highlighter-rouge">pnpm dev:panel</code> individually.</p> <h2 id="5-recommended-project-layout"> <a href="#5-recommended-project-layout" class="anchor-heading" aria-labelledby="5-recommended-project-layout"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. Recommended Project Layout </h2> <p>Place custom routers under <code class="language-plaintext highlighter-rouge">src/trpc/routers/&lt;namespace&gt;/index.ts</code> so that the generator and dev panel can discover them automatically:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>src/
  server.ts                # createRpcAiServer entry point
  trpc/
    root.ts
    routers/
      math/index.ts
      utils/index.ts
      custom/index.ts      # additional namespaces as needed
</code></pre></div></div> <p>Wire them into <code class="language-plaintext highlighter-rouge">createRpcAiServer({ customRouters: { math: mathRouter, utils: utilsRouter, custom: customRouter } })</code> and re-run <code class="language-plaintext highlighter-rouge">pnpm trpc:build</code> so the dev panel sees the new procedures.</p> <h2 id="6-explore-the-server"> <a href="#6-explore-the-server" class="anchor-heading" aria-labelledby="6-explore-the-server"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6. Explore the Server </h2> <p>Visit <a href="http://localhost:8080">http://localhost:8080</a> after running <code class="language-plaintext highlighter-rouge">pnpm dev</code> (or <code class="language-plaintext highlighter-rouge">pnpm dev:panel</code> plus <code class="language-plaintext highlighter-rouge">pnpm dev:server</code>). The dev panel lets you:</p> <ul> <li>Inspect available tRPC namespaces (<code class="language-plaintext highlighter-rouge">math</code>, <code class="language-plaintext highlighter-rouge">utils</code>, and any custom routers you register).</li> <li>Browse MCP tools and resources when <code class="language-plaintext highlighter-rouge">mcp.enabled</code> is <code class="language-plaintext highlighter-rouge">true</code>.</li> <li>Follow quick links to the bundled tRPC Playground and the MCP Jam inspector.</li> </ul> <p>Keep a terminal open with <code class="language-plaintext highlighter-rouge">pnpm trpc:build</code> whenever you change router definitions so the UI reflects the latest procedures. External clients (VS Code MCP extension, Claude Desktop, etc.) can still connect to the server URL from the logs to exercise the same tools.</p><hr /> <h3 id="for-contributors--maintainers"> <a href="#for-contributors--maintainers" class="anchor-heading" aria-labelledby="for-contributors--maintainers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> For Contributors / Maintainers </h3> <p>If you are developing the backend itself, use the repository workflow (clone, <code class="language-plaintext highlighter-rouge">pnpm install</code>, etc.) described in the <a href="/getting-started/installation.html">Installation</a> page. The Git URL <code class="language-plaintext highlighter-rouge">pnpm add git+https://github.com/AWolf81/simple-rpc-ai-backend.git</code> is intended for package developers only; consumers should stick to the npm version.</p> </main> <hr> <footer> <p><a href="#top" id="back-to-top"></a></p> <p class="text-small text-grey-dk-100 mb-0">© 2025 Simple RPC AI Backend.</p> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/AWolf81/simple-rpc-ai-backend/blob/master/docs/getting-started/quickstart.md" id="edit-this-page">Edit this page on GitHub</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> <script type="module"> import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.esm.min.mjs'; var config = {} ; mermaid.initialize(config); mermaid.run({ querySelector: '.language-mermaid', }); </script> </body> </html>
