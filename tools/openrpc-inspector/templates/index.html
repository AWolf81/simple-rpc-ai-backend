<div class="info-grid">
    <div class="info-card">
        <h4>ğŸ“„ Schema File</h4>
        <code>{{schemaFile}}</code>
    </div>
    <div class="info-card">
        <h4>ğŸš€ RPC Endpoint</h4>
        <code>{{rpcUrl}}</code>
    </div>
    <div class="info-card">
        <h4>ğŸŒ Inspector Port</h4>
        <code>:{{port}}</code>
    </div>
    <div class="info-card">
        <h4>âš¡ Status</h4>
        <span id="rpc-status">Checking...</span>
    </div>
</div>

<div class="actions">
    <a href="/openrpc.json" class="action-btn" target="_blank">ğŸ“‹ View Schema JSON</a>
    <a href="{{rpcUrl}}" class="action-btn secondary" target="_blank">ğŸ”— RPC Endpoint</a>
    <a href="/test" class="action-btn success">ğŸ§ª Test Interface</a>
    <a href="/docs" class="action-btn warning">ğŸ“š Documentation</a>
</div>

<div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-top: 20px;">
    <h3 style="margin-bottom: 15px;">ğŸ® API Playground Options</h3>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
        <div style="background: white; padding: 15px; border-radius: 8px; border: 1px solid #ddd;">
            <h4 style="margin-bottom: 10px;">ğŸ§ª Local Test Interface</h4>
            <p style="margin-bottom: 15px; color: #666; font-size: 14px;">Interactive testing with schema-generated examples</p>
            <a href="/test" class="action-btn success" style="text-decoration: none; display: inline-block;">Open Test Interface</a>
        </div>
        <div style="background: white; padding: 15px; border-radius: 8px; border: 1px solid #ddd;">
            <h4 style="margin-bottom: 10px;">ğŸŒ External Playground</h4>
            <p style="margin-bottom: 15px; color: #666; font-size: 14px;">Use OpenRPC playground (requires manual schema upload)</p>
            <div style="display: flex; gap: 10px;">
                <a href="https://playground.open-rpc.org/" target="_blank" class="action-btn secondary" style="text-decoration: none; font-size: 12px; padding: 8px 12px;">Open Playground</a>
                <a href="/openrpc.json" target="_blank" class="action-btn secondary" style="text-decoration: none; font-size: 12px; padding: 8px 12px;">Copy Schema URL</a>
            </div>
        </div>
    </div>
    <div style="margin-top: 15px; padding: 15px; background: #fff3cd; border-radius: 6px; border-left: 4px solid #ffc107;">
        <p style="margin: 0; font-size: 14px; color: #856404;">
            <strong>Note:</strong> The external playground cannot directly access localhost URLs due to browser security policies. 
            Use the local test interface for immediate testing, or manually upload the schema to the external playground.
        </p>
    </div>
</div>

<script>
    // Check RPC server status
    async function checkRPCStatus() {
        try {
            const response = await fetch('{{rpcUrl}}', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    jsonrpc: '2.0',
                    method: 'health',
                    params: [],
                    id: 1
                })
            });
            
            if (response.ok) {
                document.getElementById('rpc-status').innerHTML = '<span style="color: #27ae60;">âœ… Online</span>';
            } else {
                document.getElementById('rpc-status').innerHTML = '<span style="color: #e74c3c;">âŒ Offline</span>';
            }
        } catch (error) {
            document.getElementById('rpc-status').innerHTML = '<span style="color: #f39c12;">âš ï¸ Unreachable</span>';
        }
    }
    
    // Check status on load
    setTimeout(checkRPCStatus, 1000);
    
    // Check schema availability
    fetch('/openrpc.json')
        .then(response => {
            if (!response.ok) {
                document.querySelector('.info-card code').style.color = '#e74c3c';
                document.querySelector('.info-card code').textContent += ' (Not Found)';
            }
        })
        .catch(() => {
            document.querySelector('.info-card code').style.color = '#e74c3c';
            document.querySelector('.info-card code').textContent += ' (Error)';
        });
</script>